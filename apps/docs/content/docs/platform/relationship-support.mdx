---
title: Relationship Support
description: Phase 2 relationship configuration for lookups, N:N bridge authoring, and publish diagnostics.
---

Phase status: in progress (Phase 2).

## Outcome

Makers can model and use entity relationships in both metadata design and worker runtime surfaces.

## Scope

- Relationship definition flows in the modeler for lookup-backed associations.
- Form-level sub-grid placement for related record lists.
- Lookup field rendering with relationship-aware target metadata.
- Relationship validation during draft save and publish.

## Implemented Baseline

- Maker entity workbench now provides relation target selection from existing entity catalog when creating `relation` fields.
- Maker entity workbench now includes relationship templates:
  - `Single Lookup (1:N)` for one relation field.
  - `Junction Pair (N:N bridge)` to create two relation fields in one save for bridge entities.
- Worker create and record-detail forms render `relation` fields as lookup selects.
- Lookup select options resolve from target entity runtime records within the same app scope.
- Form designer now supports section-level sub-grid controls for child records (`target_entity`, `relation_field`, optional column list).
- Worker record detail renders configured sub-grids by querying related records where relation field equals the current record id.

## Runtime Contract

- Runtime metadata must expose relationship context required by form controls and sub-grids.
- Worker runtime uses relationship metadata to resolve linked records and related lists.
- Permission checks remain app-scoped and tenant-scoped for parent and child entities.
- Workspace selective publish supports dependency-aware relation checks for selected entities in the same run, with explicit `dependency_path` edges in issue payloads when dependencies are unresolved.

## UX Requirements

- Makers can select relationship targets from typed entity references.
- Makers can quickly scaffold bridge entities for N:N modeling with a two-relation template.
- Sub-grid controls expose related entity, default view, and ordering settings.
- Error states are actionable (missing relation, inaccessible target, invalid config).

## Definition of Done

- Lookup relationships are configurable in maker workflows.
- N:N bridge modeling is accelerated through junction-pair relation authoring.
- Sub-grids render related records in worker forms using metadata definitions.
- Relationship rules are validated in publish checks with clear diagnostics.
- Documentation is updated for relationship modeling and runtime behavior.
