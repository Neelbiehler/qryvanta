---
title: App Designer v2
description: Phase 2 app composition with sitemap drag-and-drop and WYSIWYG form/view page design.
---

Phase status: in progress (Phase 2).

## Outcome

Makers can compose complete model-driven apps with explicit page structure and runtime presentation choices.

## Scope

- Sitemap drag-and-drop for areas, groups, and pages.
- Per-page entity target selection.
- Per-page form and view override selection.
- Live app preview of navigation and selected page defaults.
- WYSIWYG-style form/view page builder with component library, viewport modes, and live insertion.
- Validation for broken references before publish.

## Runtime Contract

- App metadata remains the source of truth for navigation and page presentation defaults.
- Worker runtime resolves:
  - app navigation from `GET /api/workspace/apps/:app_logical_name/navigation`
  - page-level form/view options from workspace form and view endpoints
- Sitemap saves validate entity targets and optional `default_form` / `default_view` references before persistence.
- App-level publish checks are available via `GET /api/apps/:app_logical_name/publish-checks`.

## Runtime Resolution Order

- Worker entity list pages resolve active form/view in this order:
  1. explicit route query (`?form=...&view=...`)
  2. sitemap page defaults (`default_form`, `default_view`)
  3. metadata defaults from available forms/views
- Worker record detail pages resolve form in this order:
  1. explicit route query (`?form=...`)
  2. sitemap page `default_form`
  3. first available `main` form

## UX Requirements

- Reordering sitemap nodes must be stable and deterministic.
- Page configuration must provide safe defaults when overrides are not selected.
- Preview must mirror worker navigation and default page behavior.

## Current Implementation Notes

- App Studio navigation bindings now support deterministic page ordering via inline `Up` / `Down` controls.
- Reorder operations persist through binding updates and keep form/view selections intact.
- Full area/group/page drag-and-drop remains in the dedicated sitemap editor flow.
- Sitemap editor now behaves as a stronger WYSIWYG canvas: selected nodes are highlighted in tree/canvas, preview nodes are clickable to focus properties, and makers can add/delete nodes directly from the visual tree.
- Canvas line drop zones now support cross-parent drag/drop for groups and sub-areas, enabling full tree restructuring directly in the visual canvas.
- App Studio binding form/view designer now supports line-based drag/drop insertion so makers can place fields at exact positions across form and view surfaces.
- App Studio binding field lists now support keyboard-first ordering (`Alt + Arrow`) for focused field chips.
- App Studio now includes a website-style WYSIWYG canvas for form/view design with desktop, tablet, and mobile viewport simulation.
- The builder component library keeps all entity fields available for drag/drop while providing one-click suggested layouts for forms and list columns.
- App Studio now runs as a full-screen builder workspace: explorer/sidebar controls stay docked while the website canvas fills the primary viewport.
- The builder now supports Design and Preview modes and canvas zoom so makers can validate visual outcomes before saving.
- Component library search and type filtering now make large entity field catalogs manageable in real projects.
- Canvas command bar actions are now inferred from field model coverage to mirror model-driven app authoring workflows.
- Navigation binding now supports an expanded editor mode so makers can run a full-width canvas with collapsible metadata controls.
- Canvas panel controls now include Focus Canvas mode, collapsible Library/Inspector panes, and wider desktop viewport width for dense ERP/CRM layouts.
- Sitemap editor now supports undo/redo controls with keyboard shortcuts (`Ctrl/Cmd + Z`, `Ctrl/Cmd + Y`) and sibling reorder shortcuts for selected nodes (`Alt + Arrow`).
- Editor shortcut overlays are available via `Shortcuts` and `?` for in-context discovery.
- Maker Studio now includes a unified form canvas with structural tabs/sections/columns, draggable tab strip, and shared undo/redo state extracted from the legacy entity form designer.
- Studio form canvas now renders WYSIWYG field controls (text/date/number/select/checkbox/json), section-level grid layouts, and inline sub-grid previews.
- Studio form preview mode now supports desktop/tablet/mobile viewport simulation, zoom levels, and sample runtime record hydration for field placeholders.
- Studio now includes a first integrated View Builder canvas with draggable column palette, visual filter builder, sortable preview table headers, and contextual column inspector.
- Studio view previews now support list-to-form navigation via record row click, opening a slide-over record panel backed by workspace form metadata.
- Studio view preview now supports quick create via a `New` action that opens a slide-over using the entity `quick_create` form (fallback to `main` form) and persists records through workspace runtime endpoints.
- Visual filters are now field-aware in the studio view builder: date/time fields default to range-compatible operators and value placeholders adapt by field type.
- Studio `Sitemap` node now embeds the existing sitemap editor directly in the unified canvas, so area/group/sub-area editing no longer requires leaving studio context.
- Studio toolbar now includes a `Play` action that opens worker runtime (`/worker/apps/{app}`) for end-user flow validation.
- Studio `Security` node now embeds role-permission matrix management (per-role CRUD by entity) directly in the unified canvas.
- Studio `Publish Console` node now embeds selection-based publish checks, selective publish execution, publish history reload, and draft-to-published diff preview.
- Studio solution explorer now supports inline metadata authoring: create entities from the sidebar header and create fields (including relation targets) directly inside each expanded entity node.
- Studio solution explorer now also supports inline scaffold creation for forms and views under each entity node, with immediate auto-open into the central form/view editor after creation.
- Form/view scaffold forms now auto-suggest logical and display names based on type and existing sibling counts (for one-click creation with minimal typing).
- Studio now auto-syncs app entity bindings whenever forms/views are created or saved in the studio editor, keeping default form/view references and field mappings aligned without manual binding edits.
- Legacy maker editor routes (`/maker/apps`, `/maker/entities/{entity}/forms/*`, `/maker/entities/{entity}/views/*`) now redirect into `/maker/studio/*`, making unified studio the single supported editing surface.
- Worker runtime now presents a stronger ERP/CRM shell: app home and entity workspaces use richer sitemap sidebars, operational badges, and clearer list-to-form navigation context derived from app metadata.
- Worker pages now follow a Dynamics-inspired shell pattern (command bar language, sticky sitemap rail, contextual status badges, and unified list/form/dashboard navigation model).
- Worker runtime now suppresses the global surface sidebar/command jump chrome and relies on app sitemap navigation rails, mirroring role-focused Dynamics-style operator UX.
- Worker app pages now share a reusable sitemap sidebar component with area/group nesting and active entity/dashboard highlighting, giving the app a true left-nav ERP shell instead of per-page card links.
- Sitemap groups in worker navigation are now collapsible with per-app remembered state, and the rail includes recent-record shortcuts plus promoted active view/form selectors above list grids.
- Worker list pages now follow a strict Dynamics-like flow: list view for browsing only, `New` opens a dedicated form-create route, and row click opens the record form for edit.
- System identifier handling is now aligned with CRM UX: `record_id` stays backend-generated, is excluded from create input rendering, and is forced read-only if present in form metadata.
- Worker sitemap now supports star-based favorites and keyboard navigation (`ArrowUp`, `ArrowDown`, `Home`, `End`) for a faster Dynamics-style operator flow.
- Worker now renders in a fullscreen app shell (`/worker` main content is full-bleed), with sitemap rail + content pane layout and compact sticky app headers instead of page-style marketing headers.
- Worker shell now supports persistent sidebar resizing and per-user grid density preference (comfortable/compact) for productivity-heavy operator sessions.

## Definition of Done

- Makers can drag, reorder, and configure sitemap entries visually.
- Per-page form/view selection is persisted and applied in worker runtime.
- Publish checks prevent unresolved entity, form, or view references.
- Documentation is updated for app composition flow and runtime resolution order.
