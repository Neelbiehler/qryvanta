---
title: UX Surfaces
description: Persona-specific product surfaces for Admin Center, Maker Center, and Worker Apps.
---

Phase status: in progress.

## Surface Model

Qryvanta separates the product into route-scoped surfaces so each persona enters the correct workspace with explicit access checks.

- Admin Center (`/admin/*`) for tenant administration and security governance.
- Maker Center (`/maker/*`) for metadata and app configuration.
- Worker Apps (`/worker/*`) for day-to-day operational usage.

This removes mixed control-plane/runtime navigation from a single shell.

## Surface Boundaries

| Surface | Persona | URL Prefix | Primary Navigation |
| --- | --- | --- | --- |
| Admin Center | Tenant admins, security operators | `/admin` | Overview, Roles, Audit Log, Security Settings |
| Maker Center | Builders, solution engineers | `/maker` | Overview, Entity Library, Model-driven App Designer |
| Worker Apps | End users, operators | `/worker` | Overview, App Hub, Entity Workspaces |

Each surface has:

1. Its own layout shell.
2. Its own sidebar navigation.
3. Explicit access checks before rendering children.

## Shared Shell Behavior

- Sticky surface header with breadcrumb context.
- Surface overview hubs at `/admin`, `/maker`, and `/worker`.
- Split rails for workbench pages (context + action/data panel).
- Header command-jump input (`/`) for route navigation.
- Active-state sidebar navigation.
- Surface status chips for workspace mode.
- Library-first navigation for maker/worker hubs with dedicated deep-link workspaces for editing and operations.
- Model-driven app designer workflow where entity bindings can define multiple named forms and list views with default runtime selection.

These patterns are shared across all three surfaces to reduce context switching while preserving route and permission boundaries.

Legacy URLs (`/entities`, `/apps`, `/security/*`) are preserved as redirects to the surface URLs.

## Access Resolution

Surface access is resolved server-side from RBAC permissions and returned by `GET /auth/me` as `accessible_surfaces`.

Permission mapping baseline:

- Admin Center: `security.role.manage`, `security.audit.read`, `security.invite.send`.
- Maker Center: `metadata.entity.read`, `metadata.entity.create`, `metadata.field.read`, `metadata.field.write`.
- Worker Apps: `runtime.record.read`, `runtime.record.read.own`, `runtime.record.write`, `runtime.record.write.own`.

On the web app:

1. Root (`/`) loads `/auth/me`.
2. User is redirected to the first accessible surface (`worker`, then `maker`, then `admin`).
3. Surface layouts deny access when the current surface is not in `accessible_surfaces`.

API endpoint-level authorization is still enforced by application permission checks (surface access does not replace API authorization).

## Operational Notes

- Keep new pages within the correct surface route group.
- Add new navigation items to the surface definition in `apps/web/src/lib/surfaces.ts`.
- When adding new RBAC permissions that should grant access to a surface, update `Surface::required_permissions()` in `crates/domain/src/security.rs`.
