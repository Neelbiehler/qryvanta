---
title: Rust Layers
description: How crates are separated and how dependencies should flow.
---

## Workspace Layout

- `crates/core`: primitives (`AppError`, `AppResult`, value object helpers)
- `crates/domain`: business entities and invariants
- `crates/application`: use-cases and ports
- `crates/infrastructure`: concrete adapters
- `apps/api`: HTTP composition root

## Dependency Direction

Allowed:

- `domain` -> `core`
- `application` -> `domain`, `core`
- `infrastructure` -> `application`, `domain`, `core`
- `apps/api` -> all crates needed for composition

Not allowed:

- `domain` -> `infrastructure`
- `application` -> `axum` or transport frameworks
- `apps/api` implementing domain business rules

## Why This Matters

The platform will add dynamic schemas, workflows, and tenant security.
Without strict layering, this growth turns into coupled handlers and hard-to-test behavior.
