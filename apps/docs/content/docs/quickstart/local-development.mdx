---
title: Local Development
description: Local first-use flow for admins and makers.
---

Use this page after Quickstart.
It focuses on first login, first publish, and first runtime record.

## Start the Stack

```bash
pnpm infra:up
cp .env.example .env
pnpm dev
```

## Verify API Health

```bash
curl http://127.0.0.1:3001/health
```

Expected response includes `"status":"ok"` and `"ready":true`.

Default local ports:

- API: `http://localhost:3001`
- Web: `http://localhost:3000`
- Docs: `http://127.0.0.1:3002`
- Postgres: `127.0.0.1:5432`
- Redis: `127.0.0.1:6379`

## First Login

1. Open `http://localhost:3000`.
2. Use bootstrap or registration flow based on your `.env` settings.
3. Confirm you can access at least one surface: `/admin`, `/maker`, or `/worker`.

If no surface is visible, check role assignments in Admin Center.

If login fails, verify `AUTH_BOOTSTRAP_TOKEN`, `SESSION_SECRET`, and `NEXT_PUBLIC_API_BASE_URL` in `.env`.

## First Maker Flow

1. Open Maker Center at `/maker`.
2. Create one entity such as `account`.
3. Add fields such as `name`, `status`, `owner`, and `segment`.
4. Publish metadata.
5. Open Worker Apps and create one record.
6. Return to Maker Center and edit one field label.
7. Publish again and verify the change in Worker Apps.

## Optional Demo Seed

```bash
pnpm dev:seed
```

The seed targets `DEV_DEFAULT_TENANT_ID` when set (from `.env`), creates/updates the tenant named `Northwind Industrial Group`, and upserts sample `account`, `contact`, `deal`, and `invoice` records.

It ensures seeded tenant identities and role assignments are in place, including full owner access through the system `tenant_owner` role.

Beyond records, the seed provisions a full model-driven tenant surface: `sales_hub` and `finance_ops` apps, entity bindings, curated forms, grid views, and app sitemaps.

Seeded local users:

- Admin: `admin@qryvanta.local` / `admin` (full tenant rights)
- Standard user: `user@qryvanta.local` / `admin` (worker-focused app access via `standard_user` role)

If these users already exist, the seed updates records instead of duplicating them.

## Local Passkey Test (Optional)

Use one hostname (`localhost`) for the web app and API while testing auth.

1. Set `FRONTEND_URL=http://localhost:3000`.
2. Set `NEXT_PUBLIC_API_BASE_URL=http://localhost:3001`.
3. Start apps with `pnpm dev`.
4. Open `http://localhost:3000/login`.
5. Enter a subject and bootstrap token, click **Bootstrap Session**.
6. Click **Enroll Passkey** and complete the browser/device prompt.
7. Click **Sign in with Passkey**.

Passkey login requires the same host for web and API origin checks.

## Daily Shutdown

```bash
pnpm infra:down
```
