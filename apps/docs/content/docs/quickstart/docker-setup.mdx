---
title: Docker Setup
description: Start and validate local infrastructure services.
---

Qryvanta local development uses Postgres and Redis from Docker Compose.

## Prerequisites

- Docker Desktop (or Docker Engine) with Compose support
- Port `5432` available
- Port `6379` available (for local Redis)
- Enough local memory for containers and web runtime

## Start Infrastructure

```bash
pnpm infra:up
```

This command starts:

- PostgreSQL 16 on `127.0.0.1:5432`
- Redis 7 on `127.0.0.1:6379`

## Bootstrap Local Env

```bash
cp .env.example .env
```

Before using auth flows, set these values in `.env`:

- `AUTH_BOOTSTRAP_TOKEN`
- `SESSION_SECRET`
- `WEBAUTHN_RP_ID`
- `WEBAUTHN_RP_ORIGIN`

Use long, random values for `SESSION_SECRET` and `AUTH_BOOTSTRAP_TOKEN`.

## Verify Health

```bash
docker compose ps
```

`qryvanta-postgres` and `qryvanta-redis` should show healthy status before running API/web apps.

If containers are unhealthy, inspect logs before starting the API:

```bash
docker compose logs postgres redis
```

If port `5432` or `6379` is already in use, stop the process using that port before retrying `pnpm infra:up`.

Local data is persisted in Docker volumes created by Compose.
Use `docker compose down -v` only when you want to delete local Postgres and Redis data.

## Stop Infrastructure

```bash
pnpm infra:down
```
